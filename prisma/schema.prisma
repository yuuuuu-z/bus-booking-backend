generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}
model User {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
 password  String?  // Optional for Google OAuth users
  googleId  String?  @unique  // Store Google's user ID
  avatar    String?
  provider  String   @default("local") // "local" or "google"
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}



model Province {
  id        Int    @id @default(autoincrement())
  name      String @unique
  fromTrips Trip[] @relation("FromProvince")
  toTrips   Trip[] @relation("ToProvince")

  @@map("province")
}

model Trip {
  id             Int      @id @default(autoincrement())
  fromProvinceId Int
  toProvinceId   Int
  date           DateTime
  departureTime  DateTime
  price          Float
  totalSeats     Int
  availableSeats Int
  busNumber      String?
  plateNumber    String?
  createdAt      DateTime @default(now())
  fromProvince   Province @relation("FromProvince", fields: [fromProvinceId], references: [id])
  toProvince     Province @relation("ToProvince", fields: [toProvinceId], references: [id])

  @@map("trip")
}
